{"version":3,"sources":["test-in-console/reporter.js"],"names":[],"mappings":";;;;;;;;AAAA,qE;AACA,kC;AACA,kC;AACA,4E;AACA,C;;AAEA,gB;AACA,sB;AACA,6B;AACA,mC;AACA,sC;AACA,yC;AACA,kB;AACA,mC;AACA,C;;AAEA,gB;AACA,8B;AACA,wE;AACA,6B;AACA,c;AACA,sB;AACA,qB;AACA,S;AACA,K;AACA,gB;AACA,G;AACA,G;;AAEA,gE;AACA,+D;AACA,qC;AACA,4B;AACA,6C;AACA,G","file":"/packages/test-in-console.js","sourcesContent":["// A hacky way to extract the phantom runner script from the package.\nif (process.env.WRITE_RUNNER_JS) {\n  Npm.require('fs').writeFileSync(\n    process.env.WRITE_RUNNER_JS, new Buffer(Assets.getBinary('runner.js')));\n}\n\nvar url =  null;\nif (Meteor.settings &&\n    Meteor.settings.public &&\n    Meteor.settings.public.runId &&\n    Meteor.settings.public.reportTo) {\n  url = Meteor.settings.public.reportTo +\n      \"/report/\" +\n      Meteor.settings.public.runId;\n}\n\nMeteor.methods({\n  report: function (reports) {\n    // XXX Could do a more precise validation here; reports are complex!\n    check(reports, [Object]);\n    if (url) {\n      HTTP.post(url, {\n        data: reports\n      });\n    }\n    return null;\n  }\n});\n\n// provide some notification we're started. This is to allow use\n// in automated scripts with `meteor run --once` which does not\n// print when the proxy is listening.\nMeteor.startup(function () {\n  Meteor._debug(\"test-in-console listening\");\n});\n"]}